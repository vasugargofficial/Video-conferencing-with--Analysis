// DO NOT EDIT! This is an autogenerated file. All changes will be
// overwritten!

//	Copyright (c) 2016 Vidyo, Inc. All rights reserved.


using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Collections;
using System.Runtime.InteropServices;

namespace VidyoClient
{
	public class User: IDisposable {
		private bool disposed = false; 
#if __IOS__
		const string importLib = "__Internal";
#else
		const string importLib = "libVidyoClient";
#endif
		private IntPtr objPtr; // opaque VidyoUser reference.
		public IntPtr GetObjectPtr(){
			return objPtr;
		}
		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserAddRosterContactNative(IntPtr u, IntPtr userId);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserAdvancedSearchRoomsNative(IntPtr u, IntPtr fieldSet, IntPtr fieldRelations, IntPtr fieldValues, IntPtr searchToken, uint index, uint pageSize, OnRoomSearchResults onRoomSearchResults);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserAdvancedSearchRoomsSetfieldSetArrayNative(IntPtr obj, IntPtr objArray, int size);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserVectorVidyoRoomSearchFieldAllocateNative();

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern void VidyoUserVectorVidyoRoomSearchFieldDeallocateNative(IntPtr param);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserAdvancedSearchRoomsSetfieldRelationsArrayNative(IntPtr obj, IntPtr objArray, int size);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserVectorVidyoRoomSearchFieldRelationAllocateNative();

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern void VidyoUserVectorVidyoRoomSearchFieldRelationDeallocateNative(IntPtr param);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserAdvancedSearchRoomsSetfieldValuesArrayNative(IntPtr obj, IntPtr objArray, int size);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserVectorLmiStringAllocateNative();

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern void VidyoUserVectorLmiStringDeallocateNative(IntPtr param);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserAdvancedSearchUsersNative(IntPtr u, IntPtr fieldSet, IntPtr fieldValues, IntPtr searchToken, uint index, uint pageSize, OnUserSearchResults onUserSearchResults);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserAdvancedSearchUsersSetfieldSetArrayNative(IntPtr obj, IntPtr objArray, int size);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserVectorVidyoUserSearchFieldAllocateNative();

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern void VidyoUserVectorVidyoUserSearchFieldDeallocateNative(IntPtr param);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserAdvancedSearchUsersSetfieldValuesArrayNative(IntPtr obj, IntPtr objArray, int size);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserAllowSubscriberNative(IntPtr u, IntPtr userId);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserBlockSubscriberNative(IntPtr u, IntPtr userId);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserConstructNative(IntPtr endpoint);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserConstructCopyNative(IntPtr other);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserCreateCallNative(IntPtr u, IntPtr userId, IntPtr createToken, OnCallCreated onCallCreated);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserCreateRoomFromIdNative(IntPtr u, IntPtr id, IntPtr createToken, OnRoomCreated onRoomCreated);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserCreateRoomFromKeyNative(IntPtr u, IntPtr roomKey, IntPtr createToken, OnRoomCreated onRoomCreated);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserCreateRoomWithIdNative(IntPtr u, IntPtr id, IntPtr createToken, OnRoomCreated onRoomCreated);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserCreateScheduledRoomNative(IntPtr u, IntPtr schedule, IntPtr createToken, OnRoomCreated onRoomCreated);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserCreateTestCallRoomNative(IntPtr u, IntPtr createToken, OnRoomCreated onRoomCreated);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserCreateTopicRoomNative(IntPtr u, IntPtr name, IntPtr description, IntPtr createToken, OnRoomCreated onRoomCreated);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern void VidyoUserDestructNative(IntPtr obj);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserGetAuthTypesNative(IntPtr u, IntPtr host, uint port, IntPtr serviceType, OnAuthTypes onAuthTypes, OnAuthTypesWebProxyCredentialsRequest onWebProxyCredentialsRequest);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserGetContactNative(IntPtr u, IntPtr userId, OnGetContactResult onGetContactResult);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserGetConversationRoomNative(IntPtr u, IntPtr userIds, IntPtr createToken, OnRoomCreated onRoomCreated);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserGetConversationRoomSetuserIdsArrayNative(IntPtr obj, IntPtr objArray, int size);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserGetCurrentRosterNative(IntPtr u, IntPtr roster);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserGetCurrentRosterGetrosterArrayNative(IntPtr obj, ref int size);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserGetCurrentRosterFreerosterArrayNative(IntPtr obj, int size);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserVectorVidyoContactAllocateNative();

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern void VidyoUserVectorVidyoContactDeallocateNative(IntPtr param);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserGetEndpointNative(IntPtr u);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserGetFavoriteRoomsNative(IntPtr u, uint index, uint pageSize, OnFavoriteRoomResults onFavoriteRoomResults);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserGetIdNative(IntPtr u);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserGetPasswordResetUrlNative(IntPtr u, OnPasswordResetUrl onPasswordResetUrl);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserGetRecentRoomsNative(IntPtr u, uint index, uint pageSize, OnRecentRoomResults onRecentRoomResults);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserGetStatsNative(IntPtr r, IntPtr stats);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserGetWebProxyAddressNative(IntPtr u);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserInvalidateTokenOnLogoutNative(IntPtr user, Boolean invalidate);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserLoginNative(IntPtr u, IntPtr username, IntPtr password, IntPtr host, uint port, IntPtr serviceType, OnLoginComplete onLoginComplete, OnLoggedOut onLoggedOut, OnConnectionStatusChanged onConnectionStatusChanged, OnTokenReceived onTokenReceived, OnWebProxyCredentialsRequest onWebProxyCredentialsRequest);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserLoginAsGuestNative(IntPtr u, IntPtr displayName, IntPtr roomKey, IntPtr host, uint port, IntPtr serviceType, OnLoginComplete onLoginComplete, OnLoggedOut onLoggedOut, OnConnectionStatusChanged onConnectionStatusChanged, OnTokenReceived onTokenReceived, OnWebProxyCredentialsRequest onWebProxyCredentialsRequest);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserLoginWithAccessTokenNative(IntPtr u, IntPtr accessToken, IntPtr host, uint port, IntPtr serviceType, OnLoginComplete onLoginComplete, OnLoggedOut onLoggedOut, OnConnectionStatusChanged onConnectionStatusChanged, OnTokenReceived onTokenReceived, OnWebProxyCredentialsRequest onWebProxyCredentialsRequest);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserLoginWithCACNative(IntPtr u, IntPtr certificate, IntPtr host, uint port, IntPtr serviceType, OnLoginComplete onLoginComplete, OnLoggedOut onLoggedOut, OnConnectionStatusChanged onConnectionStatusChanged, OnTokenReceived onTokenReceived, OnWebProxyCredentialsRequest onWebProxyCredentialsRequest);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserLoginWithRefreshTokenNative(IntPtr u, IntPtr refreshToken, IntPtr host, uint port, IntPtr serviceType, OnLoginComplete onLoginComplete, OnLoggedOut onLoggedOut, OnConnectionStatusChanged onConnectionStatusChanged, OnTokenReceived onTokenReceived, OnWebProxyCredentialsRequest onWebProxyCredentialsRequest);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserLoginWithSAMLNative(IntPtr u, IntPtr key, IntPtr host, uint port, IntPtr serviceType, OnLoginComplete onLoginComplete, OnLoggedOut onLoggedOut, OnConnectionStatusChanged onConnectionStatusChanged, OnTokenReceived onTokenReceived, OnWebProxyCredentialsRequest onWebProxyCredentialsRequest);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserLoginWithTenantTokenNative(IntPtr u, IntPtr provisionToken, IntPtr host, uint port, IntPtr serviceType, OnLoginComplete onLoginComplete, OnLoggedOut onLoggedOut, OnConnectionStatusChanged onConnectionStatusChanged, OnTokenReceived onTokenReceived, OnWebProxyCredentialsRequest onWebProxyCredentialsRequest);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserLogoutNative(IntPtr user);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserPauseUpdateNotificationNative(IntPtr u, Boolean pauseUpdateNotification);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserRegisterCallEventListenerNative(IntPtr u, OnCallCreatedByInvite onCallCreatedByInvite);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserRegisterContactEventListenerNative(IntPtr u, OnUpdateSelf onUpdateSelf, OnUpdateRosterContact onUpdateRosterContact, OnRemoveRosterContact onRemoveRosterContact);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserRegisterLicenseEventListenerNative(IntPtr u, OnLicenseReceived onLicenseReceived, OnGetLicenseKey onGetLicenseKey);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserRegisterRoomEventListenerNative(IntPtr u, OnRoomCreatedByInvite onRoomCreatedByInvite, OnRoomInviteCancelled onRoomInviteCancelled);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserRemoveRosterContactNative(IntPtr u, IntPtr userId);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserSearchConversationRoomsNative(IntPtr u, IntPtr searchText, uint index, uint pageSize, OnRoomSearchResults onRoomSearchResults);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserSearchRoomsNative(IntPtr u, IntPtr searchText, uint index, uint pageSize, OnRoomSearchResults onRoomSearchResults);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserSearchRoomsWithNameNative(IntPtr u, IntPtr searchText, uint index, uint pageSize, OnRoomSearchResults onRoomSearchResults);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserSearchRoomsWithOwnerNative(IntPtr u, IntPtr searchText, uint index, uint pageSize, OnRoomSearchResults onRoomSearchResults);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserSearchRoomsWithSubjectNative(IntPtr u, IntPtr searchText, uint index, uint pageSize, OnRoomSearchResults onRoomSearchResults);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserSearchTopicRoomsNative(IntPtr u, IntPtr searchText, uint index, uint pageSize, OnRoomSearchResults onRoomSearchResults);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserSearchUsersNative(IntPtr u, IntPtr searchText, uint index, uint pageSize, OnUserSearchResults onUserSearchResults);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern void VidyoUserSetCANative(IntPtr u, IntPtr ca, IntPtr caFilePath, IntPtr caDir);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserSetDisplayNameNative(IntPtr u, IntPtr displayName);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern void VidyoUserSetTCPTransportNative(IntPtr u, Boolean enable);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern void VidyoUserSetUDPTransportNative(IntPtr u, Boolean enable);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern void VidyoUserSetWebProxyAddressCredentialsNative(IntPtr u, IntPtr proxyAddress, IntPtr username, IntPtr password);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern void VidyoUserSetWebProxyTransportNative(IntPtr u, Boolean enable);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern void VidyoUserSetWebProxyTransportAddressNative(IntPtr u, IntPtr name, uint port);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserUnregisterCallEventListenerNative(IntPtr u);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserUnregisterContactEventListenerNative(IntPtr u);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserUnregisterLicenseEventListenerNative(IntPtr u);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserUnregisterRoomEventListenerNative(IntPtr u);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		[return: MarshalAs(UnmanagedType.I1)]
		private static extern Boolean VidyoUserUpdatePresenceNative(IntPtr u, [MarshalAs(UnmanagedType.I4)]Contact.ContactPresenceState state, IntPtr status);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		public static extern IntPtr VidyoUserGetUserDataNative(IntPtr obj);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		public static extern void VidyoUserSetUserDataNative(IntPtr obj, IntPtr userData);

		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnAuthTypes(IntPtr u, UserGetAuthTypesResult result, IntPtr authTypes);
		private OnAuthTypes _mOnAuthTypes;
		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnAuthTypesGetauthTypesArrayNative(IntPtr obj, ref int size);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnAuthTypesFreeauthTypesArrayNative(IntPtr obj, int size);

		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnAuthTypesWebProxyCredentialsRequest(IntPtr u, IntPtr webProxyAddress);
		private OnAuthTypesWebProxyCredentialsRequest _mOnAuthTypesWebProxyCredentialsRequest;
		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnAuthTypesWebProxyCredentialsRequestGetwebProxyAddressCStr(IntPtr webProxyAddress);

		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnCallCreated(IntPtr u, IntPtr call, UserCallCreateResult result, IntPtr createToken);
		private OnCallCreated _mOnCallCreated;
		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnCallCreatedGetcreateTokenCStr(IntPtr createToken);

		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnCallCreatedByInvite(IntPtr u, IntPtr call, IntPtr inviter);
		private OnCallCreatedByInvite _mOnCallCreatedByInvite;
		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnConnectionStatusChanged(IntPtr u, UserConnectionStatusChangedReason reason);
		private OnConnectionStatusChanged _mOnConnectionStatusChanged;
		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnFavoriteRoomResults(IntPtr u, UserSearchResult searchResult, IntPtr roomInfo);
		private OnFavoriteRoomResults _mOnFavoriteRoomResults;
		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnFavoriteRoomResultsGetroomInfoArrayNative(IntPtr obj, ref int size);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnFavoriteRoomResultsFreeroomInfoArrayNative(IntPtr obj, int size);

		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnGetContactResult(IntPtr u, IntPtr contact, UserGetContactResult result);
		private OnGetContactResult _mOnGetContactResult;
		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnGetLicenseKey(IntPtr u, IntPtr licenseKey);
		private OnGetLicenseKey _mOnGetLicenseKey;
		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnGetLicenseKeyGetlicenseKeyCStr(IntPtr licenseKey);

		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnLicenseReceived(IntPtr u, IntPtr licenseKey);
		private OnLicenseReceived _mOnLicenseReceived;
		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnLicenseReceivedGetlicenseKeyCStr(IntPtr licenseKey);

		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnLoggedOut(IntPtr u, UserLogoutReason reason);
		private OnLoggedOut _mOnLoggedOut;
		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnLoginComplete(IntPtr u, UserLoginResult result, Boolean secure, IntPtr capabilities);
		private OnLoginComplete _mOnLoginComplete;
		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnPasswordResetUrl(IntPtr u, IntPtr passwordResetUrl);
		private OnPasswordResetUrl _mOnPasswordResetUrl;
		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnPasswordResetUrlGetpasswordResetUrlCStr(IntPtr passwordResetUrl);

		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnRecentRoomResults(IntPtr u, UserSearchResult searchResult, IntPtr roomInfo);
		private OnRecentRoomResults _mOnRecentRoomResults;
		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnRecentRoomResultsGetroomInfoArrayNative(IntPtr obj, ref int size);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnRecentRoomResultsFreeroomInfoArrayNative(IntPtr obj, int size);

		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnRemoveRosterContact(IntPtr u, IntPtr uri);
		private OnRemoveRosterContact _mOnRemoveRosterContact;
		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnRemoveRosterContactGeturiCStr(IntPtr uri);

		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnRoomCreated(IntPtr u, IntPtr room, UserRoomCreateResult result, IntPtr createToken);
		private OnRoomCreated _mOnRoomCreated;
		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnRoomCreatedGetcreateTokenCStr(IntPtr createToken);

		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnRoomCreatedByInvite(IntPtr u, IntPtr room, IntPtr inviter, IntPtr message);
		private OnRoomCreatedByInvite _mOnRoomCreatedByInvite;
		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnRoomInviteCancelled(IntPtr u, IntPtr roomInfo, IntPtr message);
		private OnRoomInviteCancelled _mOnRoomInviteCancelled;
		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnRoomSearchResults(IntPtr u, IntPtr searchText, UserSearchResult searchResult, IntPtr roomInfo, ulong numRecords);
		private OnRoomSearchResults _mOnRoomSearchResults;
		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnRoomSearchResultsGetroomInfoArrayNative(IntPtr obj, ref int size);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnRoomSearchResultsFreeroomInfoArrayNative(IntPtr obj, int size);

		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnTokenReceived(IntPtr u, IntPtr token, UserTokenType tokenType);
		private OnTokenReceived _mOnTokenReceived;
		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnTokenReceivedGettokenCStr(IntPtr token);

		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnUpdateRosterContact(IntPtr u, IntPtr contact);
		private OnUpdateRosterContact _mOnUpdateRosterContact;
		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnUpdateSelf(IntPtr u, IntPtr contact);
		private OnUpdateSelf _mOnUpdateSelf;
		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnUserSearchResults(IntPtr u, IntPtr searchText, UserSearchResult searchResult, IntPtr contacts, ulong numRecords);
		private OnUserSearchResults _mOnUserSearchResults;
		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnUserSearchResultsGetcontactsArrayNative(IntPtr obj, ref int size);

		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnUserSearchResultsFreecontactsArrayNative(IntPtr obj, int size);

		[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
		private delegate void OnWebProxyCredentialsRequest(IntPtr u, IntPtr webProxyAddress);
		private OnWebProxyCredentialsRequest _mOnWebProxyCredentialsRequest;
		[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
		private static extern IntPtr VidyoUserOnWebProxyCredentialsRequestGetwebProxyAddressCStr(IntPtr webProxyAddress);

		public enum RoomSearchField{
			RoomsearchfieldOwner,
			RoomsearchfieldAdmin,
			RoomsearchfieldModerator,
			RoomsearchfieldMember,
			RoomsearchfieldUser,
			RoomsearchfieldName,
			RoomsearchfieldSubject,
			RoomsearchfieldType,
			RoomsearchfieldPublic,
			RoomsearchfieldNonMembers
		}
		public enum RoomSearchFieldRelation{
			RoomsearchfieldrelationAND,
			RoomsearchfieldrelationOR
		}
		public enum UserAuthType{
			UserauthtypeGuest,
			UserauthtypePassword,
			UserauthtypeAccessToken,
			UserauthtypeRefreshToken,
			UserauthtypeProvisionToken,
			UserauthtypeFacebook,
			UserauthtypeSaml,
			UserauthtypeCac
		}
		public enum UserCallCreateResult{
			UsercallcreateresultOK,
			UsercallcreateresultNoResponse,
			UsercallcreateresultNotAllowed,
			UsercallcreateresultMiscLocalError,
			UsercallcreateresultMiscRemoteError
		}
		public enum UserConnectionStatusChangedReason{
			UserconnectionstatuschangedreasonOK,
			UserconnectionstatuschangedreasonLostContactWithServer,
			UserconnectionstatuschangedreasonNoCommunicationWithServer,
			UserconnectionstatuschangedreasonNoValidNetworkInterfaces,
			UserconnectionstatuschangedreasonNetworkInterfaceChanged,
			UserconnectionstatuschangedreasonMiscNetworkError,
			UserconnectionstatuschangedreasonConnectionError
		}
		public enum UserGetAuthTypesResult{
			UsergetauthtypesresultOK,
			UsergetauthtypesresultConnectionFailed,
			UsergetauthtypesresultConnectionLost,
			UsergetauthtypesresultConnectionTimeout,
			UsergetauthtypesresultNoResponse,
			UsergetauthtypesresultWebProxyAuthenticationFailed,
			UsergetauthtypesresultTlsFailed,
			UsergetauthtypesresultServiceUnavailable,
			UsergetauthtypesresultMiscLocalError,
			UsergetauthtypesresultMiscRemoteError,
			UsergetauthtypesresultUnSupportedTenantVersion,
			UsergetauthtypesresultNoValidNetworkInterface
		}
		public enum UserGetContactResult{
			UsergetcontactresultOK,
			UsergetcontactresultNoResponse,
			UsergetcontactresultUnauthorized,
			UsergetcontactresultMiscLocalError,
			UsergetcontactresultMiscRemoteError
		}
		public enum UserLoginResult{
			UserloginresultOK,
			UserloginresultConnectionFailed,
			UserloginresultConnectionLost,
			UserloginresultConnectionTimeout,
			UserloginresultNoResponse,
			UserloginresultTerminated,
			UserloginresultInvalidUser,
			UserloginresultInvalidPassword,
			UserloginresultMiscAuthError,
			UserloginresultCancelled,
			UserloginresultMiscError,
			UserloginresultWebProxyAuthenticationRequired,
			UserloginresultServiceUnavailable,
			UserloginresultRoomIsFull,
			UserloginresultRoomIsDisabled,
			UserloginresultTlsFailed,
			UserloginresultCertificateVerificationFailed,
			UserloginresultUnsupportedTenantVersion,
			UserloginresultNoValidNetworkInterface
		}
		public enum UserLogoutReason{
			UserlogoutreasonLoggedOut,
			UserlogoutreasonConnectionLost,
			UserlogoutreasonConnectionTimeout,
			UserlogoutreasonNoResponse,
			UserlogoutreasonTerminated,
			UserlogoutreasonMiscError,
			UserlogoutreasonLoggedInElsewhere,
			UserlogoutreasonNetworkInterfaceChanged,
			UserlogoutreasonOutOfLicenses,
			UserlogoutreasonEpClientBadConnection,
			UserlogoutreasonEpClientBadVersion,
			UserlogoutreasonEpClientBadSessionId,
			UserlogoutreasonEpClientBadComms,
			UserlogoutreasonEpClientRebootRequested,
			UserlogoutreasonEpClientShutdownRequested,
			UserlogoutreasonEpClientRestartRequested,
			UserlogoutreasonEpClientInternalError,
			UserlogoutreasonEndpointNotBound,
			UserlogoutreasonInvalidAuth,
			UserlogoutreasonEpClientStartFailure
		}
		public enum UserRoomCreateResult{
			UserroomcreateresultOK,
			UserroomcreateresultNoResponse,
			UserroomcreateresultNotFound,
			UserroomcreateresultUnauthorized,
			UserroomcreateresultMiscLocalError,
			UserroomcreateresultMiscRemoteError,
			UserroomcreateresultDuplicateName,
			UserroomcreateresultLimitReached,
			UserroomcreateresultNotSupported
		}
		public enum UserSearchField{
			UsersearchfieldUID,
			UsersearchfieldEMAIL,
			UsersearchfieldNAME,
			UsersearchfieldTELNO
		}
		public enum UserSearchResult{
			UsersearchresultOK,
			UsersearchresultNoRecords,
			UsersearchresultNoResponse,
			UsersearchresultMiscLocalError,
			UsersearchresultMiscRemoteError
		}
		public enum UserState{
			UserstateIdle,
			UserstateLoggingIn,
			UserstateLoggedIn,
			UserstateReconnecting,
			UserstateRequestingAuthenticationTypes
		}
		public enum UserTokenType{
			UsertokentypeRefreshToken,
			UsertokentypeAccessToken
		}
		public interface IAdvancedSearchRooms{

			void OnRoomSearchResults(String searchText, UserSearchResult searchResult, List<RoomInfo> roomInfo, ulong numRecords);
		}
		public interface IAdvancedSearchUsers{

			void OnUserSearchResults(String searchText, UserSearchResult searchResult, List<ContactInfo> contacts, ulong numRecords);
		}
		public interface ICreateCall{

			void OnCallCreated(Call call, UserCallCreateResult result, String createToken);
		}
		public interface ICreateRoomFromId{

			void OnRoomCreated(Room room, UserRoomCreateResult result, String createToken);
		}
		public interface IGetAuthTypes{

			void OnAuthTypes(UserGetAuthTypesResult result, List<UserAuthenticationInfo> authTypes);
			void OnAuthTypesWebProxyCredentialsRequest(String webProxyAddress);
		}
		public interface IGetContact{

			void OnGetContactResult(Contact contact, UserGetContactResult result);
		}
		public interface IGetFavoriteRooms{

			void OnFavoriteRoomResults(UserSearchResult searchResult, List<RoomInfo> roomInfo);
		}
		public interface IGetPasswordResetUrl{

			void OnPasswordResetUrl(String passwordResetUrl);
		}
		public interface IGetRecentRooms{

			void OnRecentRoomResults(UserSearchResult searchResult, List<RoomInfo> roomInfo);
		}
		public interface ILogin{

			void OnLoginComplete(UserLoginResult result, Boolean secure, TenantCapabilities capabilities);
			void OnLoggedOut(UserLogoutReason reason);
			void OnConnectionStatusChanged(UserConnectionStatusChangedReason reason);
			void OnTokenReceived(String token, UserTokenType tokenType);
			void OnWebProxyCredentialsRequest(String webProxyAddress);
		}
		public interface IRegisterCallEventListener{

			void OnCallCreatedByInvite(Call call, Contact inviter);
		}
		public interface IRegisterContactEventListener{

			void OnUpdateSelf(Contact contact);
			void OnUpdateRosterContact(Contact contact);
			void OnRemoveRosterContact(String uri);
		}
		public interface IRegisterLicenseEventListener{

			void OnLicenseReceived(String licenseKey);
			void OnGetLicenseKey(String licenseKey);
		}
		public interface IRegisterRoomEventListener{

			void OnRoomCreatedByInvite(Room room, Contact inviter, String message);
			void OnRoomInviteCancelled(RoomInfo roomInfo, String message);
		}
		public class TenantCapabilitiesFactory
		{
#if __IOS__
			const string importLib = "__Internal";
#else
			const string importLib = "libVidyoClient";
#endif
			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			public static extern IntPtr VidyoTenantCapabilitiesConstructDefaultNative();
			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			public static extern void VidyoTenantCapabilitiesDestructNative(IntPtr obj);
			public static TenantCapabilities Create()
			{
				IntPtr objPtr = VidyoTenantCapabilitiesConstructDefaultNative();
				return new TenantCapabilities(objPtr);
			}
			public static void Destroy(TenantCapabilities obj)
			{
				VidyoTenantCapabilitiesDestructNative(obj.GetObjectPtr());
			}
		}
		public class TenantCapabilities{
#if __IOS__
			const string importLib = "__Internal";
#else
			const string importLib = "libVidyoClient";
#endif
			private IntPtr objPtr; // opaque VidyoTenantCapabilities reference.
			public IntPtr GetObjectPtr(){
				IntPtr nLoginAttemptInfo = Marshal.AllocHGlobal(Marshal.SizeOf<IntPtr>() * LoginAttemptInfo.Count);
				int nLoginAttemptInfoSize = 0;
				IntPtr nWSGMicroserviceAddress = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(WSGMicroserviceAddress ?? string.Empty);
				IntPtr nChangePasswordUrl = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(changePasswordUrl ?? string.Empty);
				IntPtr nEndpointBehavior = Marshal.AllocHGlobal(Marshal.SizeOf<IntPtr>() * endpointBehavior.Count);
				int nEndpointBehaviorSize = 0;
				IntPtr nLoginBannerData = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(loginBannerData ?? string.Empty);
				IntPtr nWelcomeBannerData = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(welcomeBannerData ?? string.Empty);

				foreach (UserLoginInfo iter in LoginAttemptInfo) {
					Marshal.WriteIntPtr(nLoginAttemptInfo + (nLoginAttemptInfoSize * Marshal.SizeOf<IntPtr>()), iter.GetObjectPtr());
					nLoginAttemptInfoSize++;
				}
				foreach (Property iter in endpointBehavior) {
					Marshal.WriteIntPtr(nEndpointBehavior + (nEndpointBehaviorSize * Marshal.SizeOf<IntPtr>()), iter.GetObjectPtr());
					nEndpointBehaviorSize++;
				}

				VidyoTenantCapabilitiesSetLoginAttemptInfoNative(objPtr, nLoginAttemptInfo, nLoginAttemptInfoSize);
				VidyoTenantCapabilitiesSetWSGMicroserviceAddressNative(objPtr, nWSGMicroserviceAddress);
				VidyoTenantCapabilitiesSetchangePasswordUrlNative(objPtr, nChangePasswordUrl);
				VidyoTenantCapabilitiesSetendpointBehaviorNative(objPtr, nEndpointBehavior, nEndpointBehaviorSize);
				VidyoTenantCapabilitiesSetisClientSideRoomModerationEnabledNative(objPtr, isClientSideRoomModerationEnabled);
				VidyoTenantCapabilitiesSetisCreatePublicRoomEnabledNative(objPtr, isCreatePublicRoomEnabled);
				VidyoTenantCapabilitiesSetisGuestEnabledNative(objPtr, isGuestEnabled);
				VidyoTenantCapabilitiesSetisLoginBannerEnabledNative(objPtr, isLoginBannerEnabled);
				VidyoTenantCapabilitiesSetisOpusAudioEnabledNative(objPtr, isOpusAudioEnabled);
				VidyoTenantCapabilitiesSetisPersonalRoomEnabledNative(objPtr, isPersonalRoomEnabled);
				VidyoTenantCapabilitiesSetisPrivateChatEnabledNative(objPtr, isPrivateChatEnabled);
				VidyoTenantCapabilitiesSetisPublicChatEnabledNative(objPtr, isPublicChatEnabled);
				VidyoTenantCapabilitiesSetisRoomModerationEnabledNative(objPtr, isRoomModerationEnabled);
				VidyoTenantCapabilitiesSetisScheduledRoomEnabledNative(objPtr, isScheduledRoomEnabled);
				VidyoTenantCapabilitiesSetisSdk220EnabledNative(objPtr, isSdk220Enabled);
				VidyoTenantCapabilitiesSetisTestCallEnabledNative(objPtr, isTestCallEnabled);
				VidyoTenantCapabilitiesSetisTytoCareEnabledNative(objPtr, isTytoCareEnabled);
				VidyoTenantCapabilitiesSetisWSGMicroserviceEnabledNative(objPtr, isWSGMicroserviceEnabled);
				VidyoTenantCapabilitiesSetisWelcomeBannerEnabledNative(objPtr, isWelcomeBannerEnabled);
				VidyoTenantCapabilitiesSetloginBannerDataNative(objPtr, nLoginBannerData);
				VidyoTenantCapabilitiesSetmaximumRoomPinLengthNative(objPtr, maximumRoomPinLength);
				VidyoTenantCapabilitiesSetminimumRoomPinLengthNative(objPtr, minimumRoomPinLength);
				VidyoTenantCapabilitiesSetwelcomeBannerDataNative(objPtr, nWelcomeBannerData);

				Marshal.FreeHGlobal(nWelcomeBannerData);
				Marshal.FreeHGlobal(nLoginBannerData);
				Marshal.FreeHGlobal(nEndpointBehavior);
				Marshal.FreeHGlobal(nChangePasswordUrl);
				Marshal.FreeHGlobal(nWSGMicroserviceAddress);
				Marshal.FreeHGlobal(nLoginAttemptInfo);
				return objPtr;
			}
			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern IntPtr VidyoTenantCapabilitiesGetLoginAttemptInfoNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern void VidyoTenantCapabilitiesSetLoginAttemptInfoNative(IntPtr obj, IntPtr LoginAttemptInfo, int size);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern IntPtr VidyoTenantCapabilitiesGetLoginAttemptInfoArrayNative(IntPtr obj, ref int size);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern void VidyoTenantCapabilitiesFreeLoginAttemptInfoArrayNative(IntPtr obj, int size);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern IntPtr VidyoTenantCapabilitiesGetWSGMicroserviceAddressNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern void VidyoTenantCapabilitiesSetWSGMicroserviceAddressNative(IntPtr obj, IntPtr WSGMicroserviceAddress);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern IntPtr VidyoTenantCapabilitiesGetchangePasswordUrlNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern void VidyoTenantCapabilitiesSetchangePasswordUrlNative(IntPtr obj, IntPtr changePasswordUrl);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern IntPtr VidyoTenantCapabilitiesGetendpointBehaviorNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern void VidyoTenantCapabilitiesSetendpointBehaviorNative(IntPtr obj, IntPtr endpointBehavior, int size);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern IntPtr VidyoTenantCapabilitiesGetendpointBehaviorArrayNative(IntPtr obj, ref int size);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern void VidyoTenantCapabilitiesFreeendpointBehaviorArrayNative(IntPtr obj, int size);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern Boolean VidyoTenantCapabilitiesGetisClientSideRoomModerationEnabledNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern void VidyoTenantCapabilitiesSetisClientSideRoomModerationEnabledNative(IntPtr obj, Boolean isClientSideRoomModerationEnabled);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern Boolean VidyoTenantCapabilitiesGetisCreatePublicRoomEnabledNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern void VidyoTenantCapabilitiesSetisCreatePublicRoomEnabledNative(IntPtr obj, Boolean isCreatePublicRoomEnabled);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern Boolean VidyoTenantCapabilitiesGetisGuestEnabledNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern void VidyoTenantCapabilitiesSetisGuestEnabledNative(IntPtr obj, Boolean isGuestEnabled);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern Boolean VidyoTenantCapabilitiesGetisLoginBannerEnabledNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern void VidyoTenantCapabilitiesSetisLoginBannerEnabledNative(IntPtr obj, Boolean isLoginBannerEnabled);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern Boolean VidyoTenantCapabilitiesGetisOpusAudioEnabledNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern void VidyoTenantCapabilitiesSetisOpusAudioEnabledNative(IntPtr obj, Boolean isOpusAudioEnabled);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern Boolean VidyoTenantCapabilitiesGetisPersonalRoomEnabledNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern void VidyoTenantCapabilitiesSetisPersonalRoomEnabledNative(IntPtr obj, Boolean isPersonalRoomEnabled);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern Boolean VidyoTenantCapabilitiesGetisPrivateChatEnabledNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern void VidyoTenantCapabilitiesSetisPrivateChatEnabledNative(IntPtr obj, Boolean isPrivateChatEnabled);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern Boolean VidyoTenantCapabilitiesGetisPublicChatEnabledNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern void VidyoTenantCapabilitiesSetisPublicChatEnabledNative(IntPtr obj, Boolean isPublicChatEnabled);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern Boolean VidyoTenantCapabilitiesGetisRoomModerationEnabledNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern void VidyoTenantCapabilitiesSetisRoomModerationEnabledNative(IntPtr obj, Boolean isRoomModerationEnabled);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern Boolean VidyoTenantCapabilitiesGetisScheduledRoomEnabledNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern void VidyoTenantCapabilitiesSetisScheduledRoomEnabledNative(IntPtr obj, Boolean isScheduledRoomEnabled);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern Boolean VidyoTenantCapabilitiesGetisSdk220EnabledNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern void VidyoTenantCapabilitiesSetisSdk220EnabledNative(IntPtr obj, Boolean isSdk220Enabled);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern Boolean VidyoTenantCapabilitiesGetisTestCallEnabledNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern void VidyoTenantCapabilitiesSetisTestCallEnabledNative(IntPtr obj, Boolean isTestCallEnabled);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern Boolean VidyoTenantCapabilitiesGetisTytoCareEnabledNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern void VidyoTenantCapabilitiesSetisTytoCareEnabledNative(IntPtr obj, Boolean isTytoCareEnabled);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern Boolean VidyoTenantCapabilitiesGetisWSGMicroserviceEnabledNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern void VidyoTenantCapabilitiesSetisWSGMicroserviceEnabledNative(IntPtr obj, Boolean isWSGMicroserviceEnabled);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern Boolean VidyoTenantCapabilitiesGetisWelcomeBannerEnabledNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I1)]
			private static extern void VidyoTenantCapabilitiesSetisWelcomeBannerEnabledNative(IntPtr obj, Boolean isWelcomeBannerEnabled);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern IntPtr VidyoTenantCapabilitiesGetloginBannerDataNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern void VidyoTenantCapabilitiesSetloginBannerDataNative(IntPtr obj, IntPtr loginBannerData);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern int VidyoTenantCapabilitiesGetmaximumRoomPinLengthNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern void VidyoTenantCapabilitiesSetmaximumRoomPinLengthNative(IntPtr obj, int maximumRoomPinLength);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern int VidyoTenantCapabilitiesGetminimumRoomPinLengthNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern void VidyoTenantCapabilitiesSetminimumRoomPinLengthNative(IntPtr obj, int minimumRoomPinLength);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern IntPtr VidyoTenantCapabilitiesGetwelcomeBannerDataNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern void VidyoTenantCapabilitiesSetwelcomeBannerDataNative(IntPtr obj, IntPtr welcomeBannerData);

			public List<UserLoginInfo> LoginAttemptInfo;
			public String WSGMicroserviceAddress;
			public String changePasswordUrl;
			public List<Property> endpointBehavior;
			public Boolean isClientSideRoomModerationEnabled;
			public Boolean isCreatePublicRoomEnabled;
			public Boolean isGuestEnabled;
			public Boolean isLoginBannerEnabled;
			public Boolean isOpusAudioEnabled;
			public Boolean isPersonalRoomEnabled;
			public Boolean isPrivateChatEnabled;
			public Boolean isPublicChatEnabled;
			public Boolean isRoomModerationEnabled;
			public Boolean isScheduledRoomEnabled;
			public Boolean isSdk220Enabled;
			public Boolean isTestCallEnabled;
			public Boolean isTytoCareEnabled;
			public Boolean isWSGMicroserviceEnabled;
			public Boolean isWelcomeBannerEnabled;
			public String loginBannerData;
			public int maximumRoomPinLength;
			public int minimumRoomPinLength;
			public String welcomeBannerData;
			public TenantCapabilities(IntPtr obj){
				objPtr = obj;

				List<UserLoginInfo> csLoginAttemptInfo = new List<UserLoginInfo>();
				int nLoginAttemptInfoSize = 0;
				IntPtr nLoginAttemptInfo = VidyoTenantCapabilitiesGetLoginAttemptInfoArrayNative(VidyoTenantCapabilitiesGetLoginAttemptInfoNative(objPtr), ref nLoginAttemptInfoSize);
				int nLoginAttemptInfoIndex = 0;
				while (nLoginAttemptInfoIndex < nLoginAttemptInfoSize) {
					UserLoginInfo csTLoginAttemptInfo = new UserLoginInfo(Marshal.ReadIntPtr(nLoginAttemptInfo + (nLoginAttemptInfoIndex * Marshal.SizeOf(nLoginAttemptInfo))));
					csLoginAttemptInfo.Add(csTLoginAttemptInfo);
					nLoginAttemptInfoIndex++;
				}

				List<Property> csEndpointBehavior = new List<Property>();
				int nEndpointBehaviorSize = 0;
				IntPtr nEndpointBehavior = VidyoTenantCapabilitiesGetendpointBehaviorArrayNative(VidyoTenantCapabilitiesGetendpointBehaviorNative(objPtr), ref nEndpointBehaviorSize);
				int nEndpointBehaviorIndex = 0;
				while (nEndpointBehaviorIndex < nEndpointBehaviorSize) {
					Property csTendpointBehavior = new Property(Marshal.ReadIntPtr(nEndpointBehavior + (nEndpointBehaviorIndex * Marshal.SizeOf(nEndpointBehavior))));
					csEndpointBehavior.Add(csTendpointBehavior);
					nEndpointBehaviorIndex++;
				}

				LoginAttemptInfo = csLoginAttemptInfo;
				WSGMicroserviceAddress = (string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(VidyoTenantCapabilitiesGetWSGMicroserviceAddressNative(objPtr));
				changePasswordUrl = (string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(VidyoTenantCapabilitiesGetchangePasswordUrlNative(objPtr));
				endpointBehavior = csEndpointBehavior;
				isClientSideRoomModerationEnabled = VidyoTenantCapabilitiesGetisClientSideRoomModerationEnabledNative(objPtr);
				isCreatePublicRoomEnabled = VidyoTenantCapabilitiesGetisCreatePublicRoomEnabledNative(objPtr);
				isGuestEnabled = VidyoTenantCapabilitiesGetisGuestEnabledNative(objPtr);
				isLoginBannerEnabled = VidyoTenantCapabilitiesGetisLoginBannerEnabledNative(objPtr);
				isOpusAudioEnabled = VidyoTenantCapabilitiesGetisOpusAudioEnabledNative(objPtr);
				isPersonalRoomEnabled = VidyoTenantCapabilitiesGetisPersonalRoomEnabledNative(objPtr);
				isPrivateChatEnabled = VidyoTenantCapabilitiesGetisPrivateChatEnabledNative(objPtr);
				isPublicChatEnabled = VidyoTenantCapabilitiesGetisPublicChatEnabledNative(objPtr);
				isRoomModerationEnabled = VidyoTenantCapabilitiesGetisRoomModerationEnabledNative(objPtr);
				isScheduledRoomEnabled = VidyoTenantCapabilitiesGetisScheduledRoomEnabledNative(objPtr);
				isSdk220Enabled = VidyoTenantCapabilitiesGetisSdk220EnabledNative(objPtr);
				isTestCallEnabled = VidyoTenantCapabilitiesGetisTestCallEnabledNative(objPtr);
				isTytoCareEnabled = VidyoTenantCapabilitiesGetisTytoCareEnabledNative(objPtr);
				isWSGMicroserviceEnabled = VidyoTenantCapabilitiesGetisWSGMicroserviceEnabledNative(objPtr);
				isWelcomeBannerEnabled = VidyoTenantCapabilitiesGetisWelcomeBannerEnabledNative(objPtr);
				loginBannerData = (string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(VidyoTenantCapabilitiesGetloginBannerDataNative(objPtr));
				maximumRoomPinLength = VidyoTenantCapabilitiesGetmaximumRoomPinLengthNative(objPtr);
				minimumRoomPinLength = VidyoTenantCapabilitiesGetminimumRoomPinLengthNative(objPtr);
				welcomeBannerData = (string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(VidyoTenantCapabilitiesGetwelcomeBannerDataNative(objPtr));
				VidyoTenantCapabilitiesFreeendpointBehaviorArrayNative(nEndpointBehavior, nEndpointBehaviorSize);
				VidyoTenantCapabilitiesFreeLoginAttemptInfoArrayNative(nLoginAttemptInfo, nLoginAttemptInfoSize);
			}
		};
		public class UserAuthenticationInfoFactory
		{
#if __IOS__
			const string importLib = "__Internal";
#else
			const string importLib = "libVidyoClient";
#endif
			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			public static extern IntPtr VidyoUserAuthenticationInfoConstructDefaultNative();
			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			public static extern void VidyoUserAuthenticationInfoDestructNative(IntPtr obj);
			public static UserAuthenticationInfo Create()
			{
				IntPtr objPtr = VidyoUserAuthenticationInfoConstructDefaultNative();
				return new UserAuthenticationInfo(objPtr);
			}
			public static void Destroy(UserAuthenticationInfo obj)
			{
				VidyoUserAuthenticationInfoDestructNative(obj.GetObjectPtr());
			}
		}
		public class UserAuthenticationInfo{
#if __IOS__
			const string importLib = "__Internal";
#else
			const string importLib = "libVidyoClient";
#endif
			private IntPtr objPtr; // opaque VidyoUserAuthenticationInfo reference.
			public IntPtr GetObjectPtr(){

				VidyoUserAuthenticationInfoSetauthTypeNative(objPtr, authType);
				VidyoUserAuthenticationInfoSetpropertyNative(objPtr, property.GetObjectPtr());

				return objPtr;
			}
			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I4)]
			private static extern User.UserAuthType VidyoUserAuthenticationInfoGetauthTypeNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			[return: MarshalAs(UnmanagedType.I4)]
			private static extern void VidyoUserAuthenticationInfoSetauthTypeNative(IntPtr obj, User.UserAuthType authType);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern IntPtr VidyoUserAuthenticationInfoGetpropertyNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern void VidyoUserAuthenticationInfoSetpropertyNative(IntPtr obj, IntPtr property);

			public User.UserAuthType authType;
			public Property property;
			public UserAuthenticationInfo(IntPtr obj){
				objPtr = obj;

				Property csProperty = new Property(VidyoUserAuthenticationInfoGetpropertyNative(objPtr));
				authType = VidyoUserAuthenticationInfoGetauthTypeNative(objPtr);
				property = csProperty;
			}
		};
		public class UserLoginInfoFactory
		{
#if __IOS__
			const string importLib = "__Internal";
#else
			const string importLib = "libVidyoClient";
#endif
			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			public static extern IntPtr VidyoUserLoginInfoConstructDefaultNative();
			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			public static extern void VidyoUserLoginInfoDestructNative(IntPtr obj);
			public static UserLoginInfo Create()
			{
				IntPtr objPtr = VidyoUserLoginInfoConstructDefaultNative();
				return new UserLoginInfo(objPtr);
			}
			public static void Destroy(UserLoginInfo obj)
			{
				VidyoUserLoginInfoDestructNative(obj.GetObjectPtr());
			}
		}
		public class UserLoginInfo{
#if __IOS__
			const string importLib = "__Internal";
#else
			const string importLib = "libVidyoClient";
#endif
			private IntPtr objPtr; // opaque VidyoUserLoginInfo reference.
			public IntPtr GetObjectPtr(){
				IntPtr nResult = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(result ?? string.Empty);
				IntPtr nSourceIp = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(sourceIp ?? string.Empty);
				IntPtr nTimestamp = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(timestamp ?? string.Empty);

				VidyoUserLoginInfoSetresultNative(objPtr, nResult);
				VidyoUserLoginInfoSetsourceIpNative(objPtr, nSourceIp);
				VidyoUserLoginInfoSettimestampNative(objPtr, nTimestamp);

				Marshal.FreeHGlobal(nTimestamp);
				Marshal.FreeHGlobal(nSourceIp);
				Marshal.FreeHGlobal(nResult);
				return objPtr;
			}
			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern IntPtr VidyoUserLoginInfoGetresultNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern void VidyoUserLoginInfoSetresultNative(IntPtr obj, IntPtr result);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern IntPtr VidyoUserLoginInfoGetsourceIpNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern void VidyoUserLoginInfoSetsourceIpNative(IntPtr obj, IntPtr sourceIp);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern IntPtr VidyoUserLoginInfoGettimestampNative(IntPtr obj);

			[DllImport(importLib, CallingConvention = CallingConvention.Cdecl)]
			private static extern void VidyoUserLoginInfoSettimestampNative(IntPtr obj, IntPtr timestamp);

			public String result;
			public String sourceIp;
			public String timestamp;
			public UserLoginInfo(IntPtr obj){
				objPtr = obj;

				result = (string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(VidyoUserLoginInfoGetresultNative(objPtr));
				sourceIp = (string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(VidyoUserLoginInfoGetsourceIpNative(objPtr));
				timestamp = (string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(VidyoUserLoginInfoGettimestampNative(objPtr));
			}
		};
		private IAdvancedSearchRooms _mIAdvancedSearchRooms;
		private IAdvancedSearchUsers _mIAdvancedSearchUsers;
		private ICreateCall _mICreateCall;
		private ICreateRoomFromId _mICreateRoomFromId;
		private IGetAuthTypes _mIGetAuthTypes;
		private IGetContact _mIGetContact;
		private IGetFavoriteRooms _mIGetFavoriteRooms;
		private IGetPasswordResetUrl _mIGetPasswordResetUrl;
		private IGetRecentRooms _mIGetRecentRooms;
		private ILogin _mILogin;
		private IRegisterCallEventListener _mIRegisterCallEventListener;
		private IRegisterContactEventListener _mIRegisterContactEventListener;
		private IRegisterLicenseEventListener _mIRegisterLicenseEventListener;
		private IRegisterRoomEventListener _mIRegisterRoomEventListener;
		public User(Endpoint endpoint){

			objPtr = VidyoUserConstructNative((endpoint != null) ? endpoint.GetObjectPtr():IntPtr.Zero);
			VidyoUserSetUserDataNative(objPtr, GCHandle.ToIntPtr(GCHandle.Alloc(this, GCHandleType.Weak)));
		}
		public User(IntPtr other){
			objPtr = VidyoUserConstructCopyNative(other);
			VidyoUserSetUserDataNative(objPtr, GCHandle.ToIntPtr(GCHandle.Alloc(this, GCHandleType.Weak)));
		}
		~User(){
			Dispose(false);
		}
		public void Dispose(){
			Dispose(true);
			GC.SuppressFinalize(this);
		}

		public void Dispose(bool disposing){
			if(!disposed){
				if(objPtr != IntPtr.Zero){
					VidyoUserSetUserDataNative(objPtr, IntPtr.Zero);
					VidyoUserDestructNative(objPtr);
				}
				disposed = true;
			}
		}

		public Boolean AddRosterContact(String userId){

			IntPtr nUserId = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(userId ?? string.Empty);
			Boolean ret = VidyoUserAddRosterContactNative(objPtr, nUserId);
			Marshal.FreeHGlobal(nUserId);

			return ret;
		}
		public Boolean AdvancedSearchRooms(List<RoomSearchField> fieldSet, List<RoomSearchFieldRelation> fieldRelations, List<String> fieldValues, String searchToken, uint index, uint pageSize, IAdvancedSearchRooms _iIAdvancedSearchRooms){
			_mIAdvancedSearchRooms = _iIAdvancedSearchRooms;
			_mOnRoomSearchResults = OnRoomSearchResultsDelegate;

			IntPtr nListFieldSet = VidyoUserVectorVidyoRoomSearchFieldAllocateNative();

			IntPtr nListFieldRelations = VidyoUserVectorVidyoRoomSearchFieldRelationAllocateNative();

			IntPtr nListFieldValues = VidyoUserVectorLmiStringAllocateNative();

			IntPtr nSearchToken = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(searchToken ?? string.Empty);
			IntPtr nFieldSet = Marshal.AllocHGlobal(Marshal.SizeOf<IntPtr>() * fieldSet.Count);
			int nFieldSetSize = 0;
			foreach (RoomSearchField iter in fieldSet) {
				Marshal.WriteInt32(nFieldSet + (nFieldSetSize * Marshal.SizeOf<Int32>()), (int)iter);
				nFieldSetSize++;
			}
			VidyoUserAdvancedSearchRoomsSetfieldSetArrayNative(nListFieldSet, nFieldSet, nFieldSetSize);
			Marshal.FreeHGlobal(nFieldSet);
			IntPtr nFieldRelations = Marshal.AllocHGlobal(Marshal.SizeOf<IntPtr>() * fieldRelations.Count);
			int nFieldRelationsSize = 0;
			foreach (RoomSearchFieldRelation iter in fieldRelations) {
				Marshal.WriteInt32(nFieldRelations + (nFieldRelationsSize * Marshal.SizeOf<Int32>()), (int)iter);
				nFieldRelationsSize++;
			}
			VidyoUserAdvancedSearchRoomsSetfieldRelationsArrayNative(nListFieldRelations, nFieldRelations, nFieldRelationsSize);
			Marshal.FreeHGlobal(nFieldRelations);
			IntPtr nFieldValues = Marshal.AllocHGlobal(Marshal.SizeOf<IntPtr>() * fieldValues.Count);
			int nFieldValuesSize = 0;
			foreach (String iter in fieldValues) {
				Marshal.WriteIntPtr(nFieldValues + (nFieldValuesSize * Marshal.SizeOf<IntPtr>()), MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(iter ?? string.Empty));
				nFieldValuesSize++;
			}
			VidyoUserAdvancedSearchRoomsSetfieldValuesArrayNative(nListFieldValues, nFieldValues, nFieldValuesSize);
			Marshal.FreeHGlobal(nFieldValues);
			Boolean ret = VidyoUserAdvancedSearchRoomsNative(objPtr, nListFieldSet, nListFieldRelations, nListFieldValues, nSearchToken, index, pageSize, _mOnRoomSearchResults);
			Marshal.FreeHGlobal(nSearchToken);
			VidyoUserVectorLmiStringDeallocateNative(nListFieldValues);
			VidyoUserVectorVidyoRoomSearchFieldRelationDeallocateNative(nListFieldRelations);
			VidyoUserVectorVidyoRoomSearchFieldDeallocateNative(nListFieldSet);

			return ret;
		}
		public Boolean AdvancedSearchUsers(List<UserSearchField> fieldSet, List<String> fieldValues, String searchToken, uint index, uint pageSize, IAdvancedSearchUsers _iIAdvancedSearchUsers){
			_mIAdvancedSearchUsers = _iIAdvancedSearchUsers;
			_mOnUserSearchResults = OnUserSearchResultsDelegate;

			IntPtr nListFieldSet = VidyoUserVectorVidyoUserSearchFieldAllocateNative();

			IntPtr nListFieldValues = VidyoUserVectorLmiStringAllocateNative();

			IntPtr nSearchToken = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(searchToken ?? string.Empty);
			IntPtr nFieldSet = Marshal.AllocHGlobal(Marshal.SizeOf<IntPtr>() * fieldSet.Count);
			int nFieldSetSize = 0;
			foreach (UserSearchField iter in fieldSet) {
				Marshal.WriteInt32(nFieldSet + (nFieldSetSize * Marshal.SizeOf<Int32>()), (int)iter);
				nFieldSetSize++;
			}
			VidyoUserAdvancedSearchUsersSetfieldSetArrayNative(nListFieldSet, nFieldSet, nFieldSetSize);
			Marshal.FreeHGlobal(nFieldSet);
			IntPtr nFieldValues = Marshal.AllocHGlobal(Marshal.SizeOf<IntPtr>() * fieldValues.Count);
			int nFieldValuesSize = 0;
			foreach (String iter in fieldValues) {
				Marshal.WriteIntPtr(nFieldValues + (nFieldValuesSize * Marshal.SizeOf<IntPtr>()), MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(iter ?? string.Empty));
				nFieldValuesSize++;
			}
			VidyoUserAdvancedSearchUsersSetfieldValuesArrayNative(nListFieldValues, nFieldValues, nFieldValuesSize);
			Marshal.FreeHGlobal(nFieldValues);
			Boolean ret = VidyoUserAdvancedSearchUsersNative(objPtr, nListFieldSet, nListFieldValues, nSearchToken, index, pageSize, _mOnUserSearchResults);
			Marshal.FreeHGlobal(nSearchToken);
			VidyoUserVectorLmiStringDeallocateNative(nListFieldValues);
			VidyoUserVectorVidyoUserSearchFieldDeallocateNative(nListFieldSet);

			return ret;
		}
		public Boolean AllowSubscriber(String userId){

			IntPtr nUserId = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(userId ?? string.Empty);
			Boolean ret = VidyoUserAllowSubscriberNative(objPtr, nUserId);
			Marshal.FreeHGlobal(nUserId);

			return ret;
		}
		public Boolean BlockSubscriber(String userId){

			IntPtr nUserId = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(userId ?? string.Empty);
			Boolean ret = VidyoUserBlockSubscriberNative(objPtr, nUserId);
			Marshal.FreeHGlobal(nUserId);

			return ret;
		}
		public Boolean CreateCall(String userId, String createToken, ICreateCall _iICreateCall){
			_mICreateCall = _iICreateCall;
			_mOnCallCreated = OnCallCreatedDelegate;

			IntPtr nUserId = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(userId ?? string.Empty);
			IntPtr nCreateToken = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(createToken ?? string.Empty);
			Boolean ret = VidyoUserCreateCallNative(objPtr, nUserId, nCreateToken, _mOnCallCreated);
			Marshal.FreeHGlobal(nCreateToken);
			Marshal.FreeHGlobal(nUserId);

			return ret;
		}
		public Boolean CreateRoomFromId(String id, String createToken, ICreateRoomFromId _iICreateRoomFromId){
			_mICreateRoomFromId = _iICreateRoomFromId;
			_mOnRoomCreated = OnRoomCreatedDelegate;

			IntPtr nId = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(id ?? string.Empty);
			IntPtr nCreateToken = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(createToken ?? string.Empty);
			Boolean ret = VidyoUserCreateRoomFromIdNative(objPtr, nId, nCreateToken, _mOnRoomCreated);
			Marshal.FreeHGlobal(nCreateToken);
			Marshal.FreeHGlobal(nId);

			return ret;
		}
		public Boolean CreateRoomFromKey(String roomKey, String createToken, ICreateRoomFromId _iICreateRoomFromId){
			_mICreateRoomFromId = _iICreateRoomFromId;
			_mOnRoomCreated = OnRoomCreatedDelegate;

			IntPtr nRoomKey = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(roomKey ?? string.Empty);
			IntPtr nCreateToken = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(createToken ?? string.Empty);
			Boolean ret = VidyoUserCreateRoomFromKeyNative(objPtr, nRoomKey, nCreateToken, _mOnRoomCreated);
			Marshal.FreeHGlobal(nCreateToken);
			Marshal.FreeHGlobal(nRoomKey);

			return ret;
		}
		public Boolean CreateRoomWithId(String id, String createToken, ICreateRoomFromId _iICreateRoomFromId){
			_mICreateRoomFromId = _iICreateRoomFromId;
			_mOnRoomCreated = OnRoomCreatedDelegate;

			IntPtr nId = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(id ?? string.Empty);
			IntPtr nCreateToken = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(createToken ?? string.Empty);
			Boolean ret = VidyoUserCreateRoomWithIdNative(objPtr, nId, nCreateToken, _mOnRoomCreated);
			Marshal.FreeHGlobal(nCreateToken);
			Marshal.FreeHGlobal(nId);

			return ret;
		}
		public Boolean CreateScheduledRoom(EventSchedule schedule, String createToken, ICreateRoomFromId _iICreateRoomFromId){
			_mICreateRoomFromId = _iICreateRoomFromId;
			_mOnRoomCreated = OnRoomCreatedDelegate;

			IntPtr nCreateToken = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(createToken ?? string.Empty);
			Boolean ret = VidyoUserCreateScheduledRoomNative(objPtr, (schedule != null) ? schedule.GetObjectPtr():IntPtr.Zero, nCreateToken, _mOnRoomCreated);
			Marshal.FreeHGlobal(nCreateToken);

			return ret;
		}
		public Boolean CreateTestCallRoom(String createToken, ICreateRoomFromId _iICreateRoomFromId){
			_mICreateRoomFromId = _iICreateRoomFromId;
			_mOnRoomCreated = OnRoomCreatedDelegate;

			IntPtr nCreateToken = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(createToken ?? string.Empty);
			Boolean ret = VidyoUserCreateTestCallRoomNative(objPtr, nCreateToken, _mOnRoomCreated);
			Marshal.FreeHGlobal(nCreateToken);

			return ret;
		}
		public Boolean CreateTopicRoom(String name, String description, String createToken, ICreateRoomFromId _iICreateRoomFromId){
			_mICreateRoomFromId = _iICreateRoomFromId;
			_mOnRoomCreated = OnRoomCreatedDelegate;

			IntPtr nName = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(name ?? string.Empty);
			IntPtr nDescription = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(description ?? string.Empty);
			IntPtr nCreateToken = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(createToken ?? string.Empty);
			Boolean ret = VidyoUserCreateTopicRoomNative(objPtr, nName, nDescription, nCreateToken, _mOnRoomCreated);
			Marshal.FreeHGlobal(nCreateToken);
			Marshal.FreeHGlobal(nDescription);
			Marshal.FreeHGlobal(nName);

			return ret;
		}
		public Boolean GetAuthTypes(String host, uint port, String serviceType, IGetAuthTypes _iIGetAuthTypes){
			_mIGetAuthTypes = _iIGetAuthTypes;
			_mOnAuthTypes = OnAuthTypesDelegate;
			_mOnAuthTypesWebProxyCredentialsRequest = OnAuthTypesWebProxyCredentialsRequestDelegate;

			IntPtr nHost = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(host ?? string.Empty);
			IntPtr nServiceType = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(serviceType ?? string.Empty);
			Boolean ret = VidyoUserGetAuthTypesNative(objPtr, nHost, port, nServiceType, _mOnAuthTypes, _mOnAuthTypesWebProxyCredentialsRequest);
			Marshal.FreeHGlobal(nServiceType);
			Marshal.FreeHGlobal(nHost);

			return ret;
		}
		public Boolean GetContact(String userId, IGetContact _iIGetContact){
			_mIGetContact = _iIGetContact;
			_mOnGetContactResult = OnGetContactResultDelegate;

			IntPtr nUserId = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(userId ?? string.Empty);
			Boolean ret = VidyoUserGetContactNative(objPtr, nUserId, _mOnGetContactResult);
			Marshal.FreeHGlobal(nUserId);

			return ret;
		}
		public Boolean GetConversationRoom(List<String> userIds, String createToken, ICreateRoomFromId _iICreateRoomFromId){
			_mICreateRoomFromId = _iICreateRoomFromId;
			_mOnRoomCreated = OnRoomCreatedDelegate;

			IntPtr nListUserIds = VidyoUserVectorLmiStringAllocateNative();

			IntPtr nCreateToken = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(createToken ?? string.Empty);
			IntPtr nUserIds = Marshal.AllocHGlobal(Marshal.SizeOf<IntPtr>() * userIds.Count);
			int nUserIdsSize = 0;
			foreach (String iter in userIds) {
				Marshal.WriteIntPtr(nUserIds + (nUserIdsSize * Marshal.SizeOf<IntPtr>()), MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(iter ?? string.Empty));
				nUserIdsSize++;
			}
			VidyoUserGetConversationRoomSetuserIdsArrayNative(nListUserIds, nUserIds, nUserIdsSize);
			Marshal.FreeHGlobal(nUserIds);
			Boolean ret = VidyoUserGetConversationRoomNative(objPtr, nListUserIds, nCreateToken, _mOnRoomCreated);
			Marshal.FreeHGlobal(nCreateToken);
			VidyoUserVectorLmiStringDeallocateNative(nListUserIds);

			return ret;
		}
		public Boolean GetCurrentRoster(ref List<Contact> roster){

			IntPtr nListRoster = VidyoUserVectorVidyoContactAllocateNative();

			Boolean ret = VidyoUserGetCurrentRosterNative(objPtr, nListRoster);

			List<Contact> csRoster = new List<Contact>();
			int nRosterSize = 0;
			IntPtr nRoster = VidyoUserGetCurrentRosterGetrosterArrayNative(nListRoster, ref nRosterSize);
			int nRosterIndex = 0;
			while (nRosterIndex < nRosterSize) {
				Contact csTroster = new Contact(Marshal.ReadIntPtr(nRoster + (nRosterIndex * Marshal.SizeOf(nRoster))));
				csRoster.Add(csTroster);
				nRosterIndex++;
			}

			roster = csRoster;
			VidyoUserGetCurrentRosterFreerosterArrayNative(nRoster, nRosterSize);
			VidyoUserVectorVidyoContactDeallocateNative(nListRoster);

			return ret;
		}
		public Endpoint GetEndpoint(){

			IntPtr ret = VidyoUserGetEndpointNative(objPtr);
			Endpoint csRet = null;
			if(ret != IntPtr.Zero){
				if(Endpoint.VidyoEndpointGetUserDataNative(ret) == IntPtr.Zero)
					csRet = new Endpoint(ret);
				else{
					GCHandle objHandle = (GCHandle)Endpoint.VidyoEndpointGetUserDataNative(ret);
					csRet = (Endpoint)objHandle.Target;
				}
			}

			return csRet;
		}
		public Boolean GetFavoriteRooms(uint index, uint pageSize, IGetFavoriteRooms _iIGetFavoriteRooms){
			_mIGetFavoriteRooms = _iIGetFavoriteRooms;
			_mOnFavoriteRoomResults = OnFavoriteRoomResultsDelegate;

			Boolean ret = VidyoUserGetFavoriteRoomsNative(objPtr, index, pageSize, _mOnFavoriteRoomResults);

			return ret;
		}
		public String GetId(){

			IntPtr ret = VidyoUserGetIdNative(objPtr);

			return (string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(ret);
		}
		public Boolean GetPasswordResetUrl(IGetPasswordResetUrl _iIGetPasswordResetUrl){
			_mIGetPasswordResetUrl = _iIGetPasswordResetUrl;
			_mOnPasswordResetUrl = OnPasswordResetUrlDelegate;

			Boolean ret = VidyoUserGetPasswordResetUrlNative(objPtr, _mOnPasswordResetUrl);

			return ret;
		}
		public Boolean GetRecentRooms(uint index, uint pageSize, IGetRecentRooms _iIGetRecentRooms){
			_mIGetRecentRooms = _iIGetRecentRooms;
			_mOnRecentRoomResults = OnRecentRoomResultsDelegate;

			Boolean ret = VidyoUserGetRecentRoomsNative(objPtr, index, pageSize, _mOnRecentRoomResults);

			return ret;
		}
		public Boolean GetStats(ref UserStats stats){

			Boolean ret = VidyoUserGetStatsNative(objPtr, (stats != null) ? stats.GetObjectPtr():IntPtr.Zero);

			stats = new UserStats(stats.GetObjectPtr());
			return ret;
		}
		public String GetWebProxyAddress(){

			IntPtr ret = VidyoUserGetWebProxyAddressNative(objPtr);

			return (string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(ret);
		}
		public Boolean InvalidateTokenOnLogout(Boolean invalidate){

			Boolean ret = VidyoUserInvalidateTokenOnLogoutNative(objPtr, invalidate);

			return ret;
		}
		public Boolean Login(String username, String password, String host, uint port, String serviceType, ILogin _iILogin){
			_mILogin = _iILogin;
			_mOnLoginComplete = OnLoginCompleteDelegate;
			_mOnLoggedOut = OnLoggedOutDelegate;
			_mOnConnectionStatusChanged = OnConnectionStatusChangedDelegate;
			_mOnTokenReceived = OnTokenReceivedDelegate;
			_mOnWebProxyCredentialsRequest = OnWebProxyCredentialsRequestDelegate;

			IntPtr nUsername = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(username ?? string.Empty);
			IntPtr nPassword = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(password ?? string.Empty);
			IntPtr nHost = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(host ?? string.Empty);
			IntPtr nServiceType = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(serviceType ?? string.Empty);
			Boolean ret = VidyoUserLoginNative(objPtr, nUsername, nPassword, nHost, port, nServiceType, _mOnLoginComplete, _mOnLoggedOut, _mOnConnectionStatusChanged, _mOnTokenReceived, _mOnWebProxyCredentialsRequest);
			Marshal.FreeHGlobal(nServiceType);
			Marshal.FreeHGlobal(nHost);
			Marshal.FreeHGlobal(nPassword);
			Marshal.FreeHGlobal(nUsername);

			return ret;
		}
		public Boolean LoginAsGuest(String displayName, String roomKey, String host, uint port, String serviceType, ILogin _iILogin){
			_mILogin = _iILogin;
			_mOnLoginComplete = OnLoginCompleteDelegate;
			_mOnLoggedOut = OnLoggedOutDelegate;
			_mOnConnectionStatusChanged = OnConnectionStatusChangedDelegate;
			_mOnTokenReceived = OnTokenReceivedDelegate;
			_mOnWebProxyCredentialsRequest = OnWebProxyCredentialsRequestDelegate;

			IntPtr nDisplayName = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(displayName ?? string.Empty);
			IntPtr nRoomKey = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(roomKey ?? string.Empty);
			IntPtr nHost = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(host ?? string.Empty);
			IntPtr nServiceType = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(serviceType ?? string.Empty);
			Boolean ret = VidyoUserLoginAsGuestNative(objPtr, nDisplayName, nRoomKey, nHost, port, nServiceType, _mOnLoginComplete, _mOnLoggedOut, _mOnConnectionStatusChanged, _mOnTokenReceived, _mOnWebProxyCredentialsRequest);
			Marshal.FreeHGlobal(nServiceType);
			Marshal.FreeHGlobal(nHost);
			Marshal.FreeHGlobal(nRoomKey);
			Marshal.FreeHGlobal(nDisplayName);

			return ret;
		}
		public Boolean LoginWithAccessToken(String accessToken, String host, uint port, String serviceType, ILogin _iILogin){
			_mILogin = _iILogin;
			_mOnLoginComplete = OnLoginCompleteDelegate;
			_mOnLoggedOut = OnLoggedOutDelegate;
			_mOnConnectionStatusChanged = OnConnectionStatusChangedDelegate;
			_mOnTokenReceived = OnTokenReceivedDelegate;
			_mOnWebProxyCredentialsRequest = OnWebProxyCredentialsRequestDelegate;

			IntPtr nAccessToken = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(accessToken ?? string.Empty);
			IntPtr nHost = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(host ?? string.Empty);
			IntPtr nServiceType = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(serviceType ?? string.Empty);
			Boolean ret = VidyoUserLoginWithAccessTokenNative(objPtr, nAccessToken, nHost, port, nServiceType, _mOnLoginComplete, _mOnLoggedOut, _mOnConnectionStatusChanged, _mOnTokenReceived, _mOnWebProxyCredentialsRequest);
			Marshal.FreeHGlobal(nServiceType);
			Marshal.FreeHGlobal(nHost);
			Marshal.FreeHGlobal(nAccessToken);

			return ret;
		}
		public Boolean LoginWithCAC(String certificate, String host, uint port, String serviceType, ILogin _iILogin){
			_mILogin = _iILogin;
			_mOnLoginComplete = OnLoginCompleteDelegate;
			_mOnLoggedOut = OnLoggedOutDelegate;
			_mOnConnectionStatusChanged = OnConnectionStatusChangedDelegate;
			_mOnTokenReceived = OnTokenReceivedDelegate;
			_mOnWebProxyCredentialsRequest = OnWebProxyCredentialsRequestDelegate;

			IntPtr nCertificate = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(certificate ?? string.Empty);
			IntPtr nHost = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(host ?? string.Empty);
			IntPtr nServiceType = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(serviceType ?? string.Empty);
			Boolean ret = VidyoUserLoginWithCACNative(objPtr, nCertificate, nHost, port, nServiceType, _mOnLoginComplete, _mOnLoggedOut, _mOnConnectionStatusChanged, _mOnTokenReceived, _mOnWebProxyCredentialsRequest);
			Marshal.FreeHGlobal(nServiceType);
			Marshal.FreeHGlobal(nHost);
			Marshal.FreeHGlobal(nCertificate);

			return ret;
		}
		public Boolean LoginWithRefreshToken(String refreshToken, String host, uint port, String serviceType, ILogin _iILogin){
			_mILogin = _iILogin;
			_mOnLoginComplete = OnLoginCompleteDelegate;
			_mOnLoggedOut = OnLoggedOutDelegate;
			_mOnConnectionStatusChanged = OnConnectionStatusChangedDelegate;
			_mOnTokenReceived = OnTokenReceivedDelegate;
			_mOnWebProxyCredentialsRequest = OnWebProxyCredentialsRequestDelegate;

			IntPtr nRefreshToken = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(refreshToken ?? string.Empty);
			IntPtr nHost = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(host ?? string.Empty);
			IntPtr nServiceType = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(serviceType ?? string.Empty);
			Boolean ret = VidyoUserLoginWithRefreshTokenNative(objPtr, nRefreshToken, nHost, port, nServiceType, _mOnLoginComplete, _mOnLoggedOut, _mOnConnectionStatusChanged, _mOnTokenReceived, _mOnWebProxyCredentialsRequest);
			Marshal.FreeHGlobal(nServiceType);
			Marshal.FreeHGlobal(nHost);
			Marshal.FreeHGlobal(nRefreshToken);

			return ret;
		}
		public Boolean LoginWithSAML(String key, String host, uint port, String serviceType, ILogin _iILogin){
			_mILogin = _iILogin;
			_mOnLoginComplete = OnLoginCompleteDelegate;
			_mOnLoggedOut = OnLoggedOutDelegate;
			_mOnConnectionStatusChanged = OnConnectionStatusChangedDelegate;
			_mOnTokenReceived = OnTokenReceivedDelegate;
			_mOnWebProxyCredentialsRequest = OnWebProxyCredentialsRequestDelegate;

			IntPtr nKey = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(key ?? string.Empty);
			IntPtr nHost = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(host ?? string.Empty);
			IntPtr nServiceType = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(serviceType ?? string.Empty);
			Boolean ret = VidyoUserLoginWithSAMLNative(objPtr, nKey, nHost, port, nServiceType, _mOnLoginComplete, _mOnLoggedOut, _mOnConnectionStatusChanged, _mOnTokenReceived, _mOnWebProxyCredentialsRequest);
			Marshal.FreeHGlobal(nServiceType);
			Marshal.FreeHGlobal(nHost);
			Marshal.FreeHGlobal(nKey);

			return ret;
		}
		public Boolean LoginWithTenantToken(String provisionToken, String host, uint port, String serviceType, ILogin _iILogin){
			_mILogin = _iILogin;
			_mOnLoginComplete = OnLoginCompleteDelegate;
			_mOnLoggedOut = OnLoggedOutDelegate;
			_mOnConnectionStatusChanged = OnConnectionStatusChangedDelegate;
			_mOnTokenReceived = OnTokenReceivedDelegate;
			_mOnWebProxyCredentialsRequest = OnWebProxyCredentialsRequestDelegate;

			IntPtr nProvisionToken = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(provisionToken ?? string.Empty);
			IntPtr nHost = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(host ?? string.Empty);
			IntPtr nServiceType = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(serviceType ?? string.Empty);
			Boolean ret = VidyoUserLoginWithTenantTokenNative(objPtr, nProvisionToken, nHost, port, nServiceType, _mOnLoginComplete, _mOnLoggedOut, _mOnConnectionStatusChanged, _mOnTokenReceived, _mOnWebProxyCredentialsRequest);
			Marshal.FreeHGlobal(nServiceType);
			Marshal.FreeHGlobal(nHost);
			Marshal.FreeHGlobal(nProvisionToken);

			return ret;
		}
		public Boolean Logout(){

			Boolean ret = VidyoUserLogoutNative(objPtr);

			return ret;
		}
		public Boolean PauseUpdateNotification(Boolean pauseUpdateNotification){

			Boolean ret = VidyoUserPauseUpdateNotificationNative(objPtr, pauseUpdateNotification);

			return ret;
		}
		public Boolean RegisterCallEventListener(IRegisterCallEventListener _iIRegisterCallEventListener){
			_mIRegisterCallEventListener = _iIRegisterCallEventListener;
			_mOnCallCreatedByInvite = OnCallCreatedByInviteDelegate;

			Boolean ret = VidyoUserRegisterCallEventListenerNative(objPtr, _mOnCallCreatedByInvite);

			return ret;
		}
		public Boolean RegisterContactEventListener(IRegisterContactEventListener _iIRegisterContactEventListener){
			_mIRegisterContactEventListener = _iIRegisterContactEventListener;
			_mOnUpdateSelf = OnUpdateSelfDelegate;
			_mOnUpdateRosterContact = OnUpdateRosterContactDelegate;
			_mOnRemoveRosterContact = OnRemoveRosterContactDelegate;

			Boolean ret = VidyoUserRegisterContactEventListenerNative(objPtr, _mOnUpdateSelf, _mOnUpdateRosterContact, _mOnRemoveRosterContact);

			return ret;
		}
		public Boolean RegisterLicenseEventListener(IRegisterLicenseEventListener _iIRegisterLicenseEventListener){
			_mIRegisterLicenseEventListener = _iIRegisterLicenseEventListener;
			_mOnLicenseReceived = OnLicenseReceivedDelegate;
			_mOnGetLicenseKey = OnGetLicenseKeyDelegate;

			Boolean ret = VidyoUserRegisterLicenseEventListenerNative(objPtr, _mOnLicenseReceived, _mOnGetLicenseKey);

			return ret;
		}
		public Boolean RegisterRoomEventListener(IRegisterRoomEventListener _iIRegisterRoomEventListener){
			_mIRegisterRoomEventListener = _iIRegisterRoomEventListener;
			_mOnRoomCreatedByInvite = OnRoomCreatedByInviteDelegate;
			_mOnRoomInviteCancelled = OnRoomInviteCancelledDelegate;

			Boolean ret = VidyoUserRegisterRoomEventListenerNative(objPtr, _mOnRoomCreatedByInvite, _mOnRoomInviteCancelled);

			return ret;
		}
		public Boolean RemoveRosterContact(String userId){

			IntPtr nUserId = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(userId ?? string.Empty);
			Boolean ret = VidyoUserRemoveRosterContactNative(objPtr, nUserId);
			Marshal.FreeHGlobal(nUserId);

			return ret;
		}
		public Boolean SearchConversationRooms(String searchText, uint index, uint pageSize, IAdvancedSearchRooms _iIAdvancedSearchRooms){
			_mIAdvancedSearchRooms = _iIAdvancedSearchRooms;
			_mOnRoomSearchResults = OnRoomSearchResultsDelegate;

			IntPtr nSearchText = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(searchText ?? string.Empty);
			Boolean ret = VidyoUserSearchConversationRoomsNative(objPtr, nSearchText, index, pageSize, _mOnRoomSearchResults);
			Marshal.FreeHGlobal(nSearchText);

			return ret;
		}
		public Boolean SearchRooms(String searchText, uint index, uint pageSize, IAdvancedSearchRooms _iIAdvancedSearchRooms){
			_mIAdvancedSearchRooms = _iIAdvancedSearchRooms;
			_mOnRoomSearchResults = OnRoomSearchResultsDelegate;

			IntPtr nSearchText = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(searchText ?? string.Empty);
			Boolean ret = VidyoUserSearchRoomsNative(objPtr, nSearchText, index, pageSize, _mOnRoomSearchResults);
			Marshal.FreeHGlobal(nSearchText);

			return ret;
		}
		public Boolean SearchRoomsWithName(String searchText, uint index, uint pageSize, IAdvancedSearchRooms _iIAdvancedSearchRooms){
			_mIAdvancedSearchRooms = _iIAdvancedSearchRooms;
			_mOnRoomSearchResults = OnRoomSearchResultsDelegate;

			IntPtr nSearchText = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(searchText ?? string.Empty);
			Boolean ret = VidyoUserSearchRoomsWithNameNative(objPtr, nSearchText, index, pageSize, _mOnRoomSearchResults);
			Marshal.FreeHGlobal(nSearchText);

			return ret;
		}
		public Boolean SearchRoomsWithOwner(String searchText, uint index, uint pageSize, IAdvancedSearchRooms _iIAdvancedSearchRooms){
			_mIAdvancedSearchRooms = _iIAdvancedSearchRooms;
			_mOnRoomSearchResults = OnRoomSearchResultsDelegate;

			IntPtr nSearchText = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(searchText ?? string.Empty);
			Boolean ret = VidyoUserSearchRoomsWithOwnerNative(objPtr, nSearchText, index, pageSize, _mOnRoomSearchResults);
			Marshal.FreeHGlobal(nSearchText);

			return ret;
		}
		public Boolean SearchRoomsWithSubject(String searchText, uint index, uint pageSize, IAdvancedSearchRooms _iIAdvancedSearchRooms){
			_mIAdvancedSearchRooms = _iIAdvancedSearchRooms;
			_mOnRoomSearchResults = OnRoomSearchResultsDelegate;

			IntPtr nSearchText = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(searchText ?? string.Empty);
			Boolean ret = VidyoUserSearchRoomsWithSubjectNative(objPtr, nSearchText, index, pageSize, _mOnRoomSearchResults);
			Marshal.FreeHGlobal(nSearchText);

			return ret;
		}
		public Boolean SearchTopicRooms(String searchText, uint index, uint pageSize, IAdvancedSearchRooms _iIAdvancedSearchRooms){
			_mIAdvancedSearchRooms = _iIAdvancedSearchRooms;
			_mOnRoomSearchResults = OnRoomSearchResultsDelegate;

			IntPtr nSearchText = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(searchText ?? string.Empty);
			Boolean ret = VidyoUserSearchTopicRoomsNative(objPtr, nSearchText, index, pageSize, _mOnRoomSearchResults);
			Marshal.FreeHGlobal(nSearchText);

			return ret;
		}
		public Boolean SearchUsers(String searchText, uint index, uint pageSize, IAdvancedSearchUsers _iIAdvancedSearchUsers){
			_mIAdvancedSearchUsers = _iIAdvancedSearchUsers;
			_mOnUserSearchResults = OnUserSearchResultsDelegate;

			IntPtr nSearchText = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(searchText ?? string.Empty);
			Boolean ret = VidyoUserSearchUsersNative(objPtr, nSearchText, index, pageSize, _mOnUserSearchResults);
			Marshal.FreeHGlobal(nSearchText);

			return ret;
		}
		public void SetCA(String ca, String caFilePath, String caDir){

			IntPtr nCa = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(ca ?? string.Empty);
			IntPtr nCaFilePath = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(caFilePath ?? string.Empty);
			IntPtr nCaDir = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(caDir ?? string.Empty);
			VidyoUserSetCANative(objPtr, nCa, nCaFilePath, nCaDir);
			Marshal.FreeHGlobal(nCaDir);
			Marshal.FreeHGlobal(nCaFilePath);
			Marshal.FreeHGlobal(nCa);
		}
		public Boolean SetDisplayName(String displayName){

			IntPtr nDisplayName = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(displayName ?? string.Empty);
			Boolean ret = VidyoUserSetDisplayNameNative(objPtr, nDisplayName);
			Marshal.FreeHGlobal(nDisplayName);

			return ret;
		}
		public void SetTCPTransport(Boolean enable){

			VidyoUserSetTCPTransportNative(objPtr, enable);
		}
		public void SetUDPTransport(Boolean enable){

			VidyoUserSetUDPTransportNative(objPtr, enable);
		}
		public void SetWebProxyAddressCredentials(String proxyAddress, String username, String password){

			IntPtr nProxyAddress = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(proxyAddress ?? string.Empty);
			IntPtr nUsername = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(username ?? string.Empty);
			IntPtr nPassword = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(password ?? string.Empty);
			VidyoUserSetWebProxyAddressCredentialsNative(objPtr, nProxyAddress, nUsername, nPassword);
			Marshal.FreeHGlobal(nPassword);
			Marshal.FreeHGlobal(nUsername);
			Marshal.FreeHGlobal(nProxyAddress);
		}
		public void SetWebProxyTransport(Boolean enable){

			VidyoUserSetWebProxyTransportNative(objPtr, enable);
		}
		public void SetWebProxyTransportAddress(String name, uint port){

			IntPtr nName = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(name ?? string.Empty);
			VidyoUserSetWebProxyTransportAddressNative(objPtr, nName, port);
			Marshal.FreeHGlobal(nName);
		}
		public Boolean UnregisterCallEventListener(){

			Boolean ret = VidyoUserUnregisterCallEventListenerNative(objPtr);

			return ret;
		}
		public Boolean UnregisterContactEventListener(){

			Boolean ret = VidyoUserUnregisterContactEventListenerNative(objPtr);

			return ret;
		}
		public Boolean UnregisterLicenseEventListener(){

			Boolean ret = VidyoUserUnregisterLicenseEventListenerNative(objPtr);

			return ret;
		}
		public Boolean UnregisterRoomEventListener(){

			Boolean ret = VidyoUserUnregisterRoomEventListenerNative(objPtr);

			return ret;
		}
		public Boolean UpdatePresence(Contact.ContactPresenceState state, String status){

			IntPtr nStatus = MarshalPtrToUtf8.GetInstance().MarshalManagedToNative(status ?? string.Empty);
			Boolean ret = VidyoUserUpdatePresenceNative(objPtr, state, nStatus);
			Marshal.FreeHGlobal(nStatus);

			return ret;
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnAuthTypes))]
#endif
		private static void OnAuthTypesDelegate(IntPtr u, UserGetAuthTypesResult result, IntPtr authTypes){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			List<UserAuthenticationInfo> csAuthTypes = new List<UserAuthenticationInfo>();
			int nAuthTypesSize = 0;
			IntPtr nAuthTypes = VidyoUserOnAuthTypesGetauthTypesArrayNative(authTypes, ref nAuthTypesSize);
			int nAuthTypesIndex = 0;
			while (nAuthTypesIndex < nAuthTypesSize) {
				UserAuthenticationInfo csTauthTypes = new UserAuthenticationInfo(Marshal.ReadIntPtr(nAuthTypes + (nAuthTypesIndex * Marshal.SizeOf(nAuthTypes))));
				csAuthTypes.Add(csTauthTypes);
				nAuthTypesIndex++;
			}

			if(csU._mIGetAuthTypes != null)
				csU._mIGetAuthTypes.OnAuthTypes(result, csAuthTypes);
			VidyoUserOnAuthTypesFreeauthTypesArrayNative(nAuthTypes, nAuthTypesSize);
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnAuthTypesWebProxyCredentialsRequest))]
#endif
		private static void OnAuthTypesWebProxyCredentialsRequestDelegate(IntPtr u, IntPtr webProxyAddress){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			IntPtr n_webProxyAddress = VidyoUserOnAuthTypesWebProxyCredentialsRequestGetwebProxyAddressCStr(webProxyAddress);

			if(csU._mIGetAuthTypes != null)
				csU._mIGetAuthTypes.OnAuthTypesWebProxyCredentialsRequest((string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(n_webProxyAddress));
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnCallCreated))]
#endif
		private static void OnCallCreatedDelegate(IntPtr u, IntPtr call, UserCallCreateResult result, IntPtr createToken){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			Call csCall = null;
			if(call != IntPtr.Zero){
				if(Call.VidyoCallGetUserDataNative(call) == IntPtr.Zero)
					csCall = new Call(call);
				else{
					GCHandle objHandle = (GCHandle)Call.VidyoCallGetUserDataNative(call);
					csCall = (Call)objHandle.Target;
				}
			}
			IntPtr n_createToken = VidyoUserOnCallCreatedGetcreateTokenCStr(createToken);

			if(csU._mICreateCall != null)
				csU._mICreateCall.OnCallCreated(csCall, result, (string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(n_createToken));
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnCallCreatedByInvite))]
#endif
		private static void OnCallCreatedByInviteDelegate(IntPtr u, IntPtr call, IntPtr inviter){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			Call csCall = null;
			if(call != IntPtr.Zero){
				if(Call.VidyoCallGetUserDataNative(call) == IntPtr.Zero)
					csCall = new Call(call);
				else{
					GCHandle objHandle = (GCHandle)Call.VidyoCallGetUserDataNative(call);
					csCall = (Call)objHandle.Target;
				}
			}
			Contact csInviter = new Contact(inviter);
			if(csU._mIRegisterCallEventListener != null)
				csU._mIRegisterCallEventListener.OnCallCreatedByInvite(csCall, csInviter);
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnConnectionStatusChanged))]
#endif
		private static void OnConnectionStatusChangedDelegate(IntPtr u, UserConnectionStatusChangedReason reason){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			if(csU._mILogin != null)
				csU._mILogin.OnConnectionStatusChanged(reason);
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnFavoriteRoomResults))]
#endif
		private static void OnFavoriteRoomResultsDelegate(IntPtr u, UserSearchResult searchResult, IntPtr roomInfo){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			List<RoomInfo> csRoomInfo = new List<RoomInfo>();
			int nRoomInfoSize = 0;
			IntPtr nRoomInfo = VidyoUserOnFavoriteRoomResultsGetroomInfoArrayNative(roomInfo, ref nRoomInfoSize);
			int nRoomInfoIndex = 0;
			while (nRoomInfoIndex < nRoomInfoSize) {
				RoomInfo csTroomInfo = new RoomInfo(Marshal.ReadIntPtr(nRoomInfo + (nRoomInfoIndex * Marshal.SizeOf(nRoomInfo))));
				csRoomInfo.Add(csTroomInfo);
				nRoomInfoIndex++;
			}

			if(csU._mIGetFavoriteRooms != null)
				csU._mIGetFavoriteRooms.OnFavoriteRoomResults(searchResult, csRoomInfo);
			VidyoUserOnFavoriteRoomResultsFreeroomInfoArrayNative(nRoomInfo, nRoomInfoSize);
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnGetContactResult))]
#endif
		private static void OnGetContactResultDelegate(IntPtr u, IntPtr contact, UserGetContactResult result){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			Contact csContact = new Contact(contact);
			if(csU._mIGetContact != null)
				csU._mIGetContact.OnGetContactResult(csContact, result);
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnGetLicenseKey))]
#endif
		private static void OnGetLicenseKeyDelegate(IntPtr u, IntPtr licenseKey){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			IntPtr n_licenseKey = VidyoUserOnGetLicenseKeyGetlicenseKeyCStr(licenseKey);

			if(csU._mIRegisterLicenseEventListener != null)
				csU._mIRegisterLicenseEventListener.OnGetLicenseKey((string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(n_licenseKey));
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnLicenseReceived))]
#endif
		private static void OnLicenseReceivedDelegate(IntPtr u, IntPtr licenseKey){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			IntPtr n_licenseKey = VidyoUserOnLicenseReceivedGetlicenseKeyCStr(licenseKey);

			if(csU._mIRegisterLicenseEventListener != null)
				csU._mIRegisterLicenseEventListener.OnLicenseReceived((string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(n_licenseKey));
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnLoggedOut))]
#endif
		private static void OnLoggedOutDelegate(IntPtr u, UserLogoutReason reason){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			if(csU._mILogin != null)
				csU._mILogin.OnLoggedOut(reason);
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnLoginComplete))]
#endif
		private static void OnLoginCompleteDelegate(IntPtr u, UserLoginResult result, Boolean secure, IntPtr capabilities){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			TenantCapabilities csCapabilities = new TenantCapabilities(capabilities);
			if(csU._mILogin != null)
				csU._mILogin.OnLoginComplete(result, secure, csCapabilities);
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnPasswordResetUrl))]
#endif
		private static void OnPasswordResetUrlDelegate(IntPtr u, IntPtr passwordResetUrl){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			IntPtr n_passwordResetUrl = VidyoUserOnPasswordResetUrlGetpasswordResetUrlCStr(passwordResetUrl);

			if(csU._mIGetPasswordResetUrl != null)
				csU._mIGetPasswordResetUrl.OnPasswordResetUrl((string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(n_passwordResetUrl));
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnRecentRoomResults))]
#endif
		private static void OnRecentRoomResultsDelegate(IntPtr u, UserSearchResult searchResult, IntPtr roomInfo){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			List<RoomInfo> csRoomInfo = new List<RoomInfo>();
			int nRoomInfoSize = 0;
			IntPtr nRoomInfo = VidyoUserOnRecentRoomResultsGetroomInfoArrayNative(roomInfo, ref nRoomInfoSize);
			int nRoomInfoIndex = 0;
			while (nRoomInfoIndex < nRoomInfoSize) {
				RoomInfo csTroomInfo = new RoomInfo(Marshal.ReadIntPtr(nRoomInfo + (nRoomInfoIndex * Marshal.SizeOf(nRoomInfo))));
				csRoomInfo.Add(csTroomInfo);
				nRoomInfoIndex++;
			}

			if(csU._mIGetRecentRooms != null)
				csU._mIGetRecentRooms.OnRecentRoomResults(searchResult, csRoomInfo);
			VidyoUserOnRecentRoomResultsFreeroomInfoArrayNative(nRoomInfo, nRoomInfoSize);
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnRemoveRosterContact))]
#endif
		private static void OnRemoveRosterContactDelegate(IntPtr u, IntPtr uri){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			IntPtr n_uri = VidyoUserOnRemoveRosterContactGeturiCStr(uri);

			if(csU._mIRegisterContactEventListener != null)
				csU._mIRegisterContactEventListener.OnRemoveRosterContact((string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(n_uri));
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnRoomCreated))]
#endif
		private static void OnRoomCreatedDelegate(IntPtr u, IntPtr room, UserRoomCreateResult result, IntPtr createToken){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			Room csRoom = null;
			if(room != IntPtr.Zero){
				if(Room.VidyoRoomGetUserDataNative(room) == IntPtr.Zero)
					csRoom = new Room(room);
				else{
					GCHandle objHandle = (GCHandle)Room.VidyoRoomGetUserDataNative(room);
					csRoom = (Room)objHandle.Target;
				}
			}
			IntPtr n_createToken = VidyoUserOnRoomCreatedGetcreateTokenCStr(createToken);

			if(csU._mICreateRoomFromId != null)
				csU._mICreateRoomFromId.OnRoomCreated(csRoom, result, (string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(n_createToken));
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnRoomCreatedByInvite))]
#endif
		private static void OnRoomCreatedByInviteDelegate(IntPtr u, IntPtr room, IntPtr inviter, IntPtr message){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			Room csRoom = null;
			if(room != IntPtr.Zero){
				if(Room.VidyoRoomGetUserDataNative(room) == IntPtr.Zero)
					csRoom = new Room(room);
				else{
					GCHandle objHandle = (GCHandle)Room.VidyoRoomGetUserDataNative(room);
					csRoom = (Room)objHandle.Target;
				}
			}
			Contact csInviter = new Contact(inviter);
			if(csU._mIRegisterRoomEventListener != null)
				csU._mIRegisterRoomEventListener.OnRoomCreatedByInvite(csRoom, csInviter, (string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(message));
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnRoomInviteCancelled))]
#endif
		private static void OnRoomInviteCancelledDelegate(IntPtr u, IntPtr roomInfo, IntPtr message){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			RoomInfo csRoomInfo = new RoomInfo(roomInfo);
			if(csU._mIRegisterRoomEventListener != null)
				csU._mIRegisterRoomEventListener.OnRoomInviteCancelled(csRoomInfo, (string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(message));
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnRoomSearchResults))]
#endif
		private static void OnRoomSearchResultsDelegate(IntPtr u, IntPtr searchText, UserSearchResult searchResult, IntPtr roomInfo, ulong numRecords){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			List<RoomInfo> csRoomInfo = new List<RoomInfo>();
			int nRoomInfoSize = 0;
			IntPtr nRoomInfo = VidyoUserOnRoomSearchResultsGetroomInfoArrayNative(roomInfo, ref nRoomInfoSize);
			int nRoomInfoIndex = 0;
			while (nRoomInfoIndex < nRoomInfoSize) {
				RoomInfo csTroomInfo = new RoomInfo(Marshal.ReadIntPtr(nRoomInfo + (nRoomInfoIndex * Marshal.SizeOf(nRoomInfo))));
				csRoomInfo.Add(csTroomInfo);
				nRoomInfoIndex++;
			}

			if(csU._mIAdvancedSearchRooms != null)
				csU._mIAdvancedSearchRooms.OnRoomSearchResults((string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(searchText), searchResult, csRoomInfo, numRecords);
			VidyoUserOnRoomSearchResultsFreeroomInfoArrayNative(nRoomInfo, nRoomInfoSize);
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnTokenReceived))]
#endif
		private static void OnTokenReceivedDelegate(IntPtr u, IntPtr token, UserTokenType tokenType){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			IntPtr n_token = VidyoUserOnTokenReceivedGettokenCStr(token);

			if(csU._mILogin != null)
				csU._mILogin.OnTokenReceived((string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(n_token), tokenType);
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnUpdateRosterContact))]
#endif
		private static void OnUpdateRosterContactDelegate(IntPtr u, IntPtr contact){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			Contact csContact = new Contact(contact);
			if(csU._mIRegisterContactEventListener != null)
				csU._mIRegisterContactEventListener.OnUpdateRosterContact(csContact);
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnUpdateSelf))]
#endif
		private static void OnUpdateSelfDelegate(IntPtr u, IntPtr contact){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			Contact csContact = new Contact(contact);
			if(csU._mIRegisterContactEventListener != null)
				csU._mIRegisterContactEventListener.OnUpdateSelf(csContact);
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnUserSearchResults))]
#endif
		private static void OnUserSearchResultsDelegate(IntPtr u, IntPtr searchText, UserSearchResult searchResult, IntPtr contacts, ulong numRecords){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			List<ContactInfo> csContacts = new List<ContactInfo>();
			int nContactsSize = 0;
			IntPtr nContacts = VidyoUserOnUserSearchResultsGetcontactsArrayNative(contacts, ref nContactsSize);
			int nContactsIndex = 0;
			while (nContactsIndex < nContactsSize) {
				ContactInfo csTcontacts = new ContactInfo(Marshal.ReadIntPtr(nContacts + (nContactsIndex * Marshal.SizeOf(nContacts))));
				csContacts.Add(csTcontacts);
				nContactsIndex++;
			}

			if(csU._mIAdvancedSearchUsers != null)
				csU._mIAdvancedSearchUsers.OnUserSearchResults((string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(searchText), searchResult, csContacts, numRecords);
			VidyoUserOnUserSearchResultsFreecontactsArrayNative(nContacts, nContactsSize);
		}
#if __IOS__
[ObjCRuntime.MonoPInvokeCallback(typeof(OnWebProxyCredentialsRequest))]
#endif
		private static void OnWebProxyCredentialsRequestDelegate(IntPtr u, IntPtr webProxyAddress){
			User csU = null;
			if(u != IntPtr.Zero){
				if(User.VidyoUserGetUserDataNative(u) == IntPtr.Zero)
					csU = new User(u);
				else{
					GCHandle objHandle = (GCHandle)User.VidyoUserGetUserDataNative(u);
					csU = (User)objHandle.Target;
				}
			}
			IntPtr n_webProxyAddress = VidyoUserOnWebProxyCredentialsRequestGetwebProxyAddressCStr(webProxyAddress);

			if(csU._mILogin != null)
				csU._mILogin.OnWebProxyCredentialsRequest((string)MarshalPtrToUtf8.GetInstance().MarshalNativeToManaged(n_webProxyAddress));
		}
	};
}
